{"version":3,"sources":["../../../src/htmlToSlate/HtmlToSlate.tsx","../../../src/htmlToSlate/parseHtml.ts"],"names":[],"mappings":"iWA+Ee,UAzEK,SAAC,G,IAAE,EAAO,UACtB,EAAqB,SAArB,EAAsB,G,gBACpB,EAAW,EAAG,SAAS,cAE7B,GAAoB,IAAhB,EAAG,SACL,OAAO,EAAG,YACL,GAAoB,IAAhB,EAAG,SACZ,OAAO,KACF,GAAiB,OAAb,EACT,MAAO,KAGD,MAAa,EAAL,SACV,EAAS,EAGT,EAAkB,IACtB,MAAM,KAAK,EAAO,YAAY,IAAI,IAGhC,GAAa,SAAb,EACI,OAAC,YAAI,WAAY,GAAI,GAGzB,IAAE,EAAiB,EAAQ,MAAK,SAAC,G,MACnC,MACmB,cAAjB,EAAE,aACW,QAAb,IAAE,mBAAW,eAAE,WAAY,EAAS,iBAGpC,MAAgD,cAA9B,EAAe,WAA4B,CACzD,MAAS,EAQT,GAPD,EAAO,QAIT,EAAe,MAAQ,IAAK,EAAQ,KAAb,qBACxB,EAAO,MAAM,QAAU,EAAO,aAAa,UAEf,SAA1B,EAAe,OAAmB,CAC5B,IAAF,IAAK,MACR,EAAe,MAC+B,QAD3B,EACkB,QADlB,EACS,QADT,EACJ,OAAd,QAAc,IAAd,OAAc,EAAd,EAAgB,mBAAW,eAAE,eAAO,sBAAG,UAAM,SAChD,GAEO,OAAD,EAAS,KAAI,SAAC,GAAU,mBAAI,OAAQ,EAAZ,MAEvB,IAAF,EAA2C,QAAvC,EAA8B,QAA9B,EAAiB,OAAd,QAAc,IAAd,OAAc,EAAd,EAAgB,mBAAW,eAAE,eAAO,sBAAG,GAC9C,EAAK,GACT,KAAM,EAAe,MACjB,EAAO,CAAE,KAAI,GAAK,IAEhB,OAAD,YAAI,UAAW,EAAO,GAI7B,OAAG,GAGP,OAAK,SAAC,GACF,IChEQ,EDgEN,GChEM,EDgEa,SAAW,EAAa,WC/D5C,IAAI,aAAY,gBAAgB,EAAM,cDiErC,EAAY,EAChB,EAAO,iBAIT,MAAO,CACL,MAAO,MAAM,QAAQ,GAAY,EAAW,CAAC","file":"static/js/41.67903979.chunk.js","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport flatten from 'lodash.flatten';\nimport { jsx } from 'slate-hyperscript';\nimport parseHtml from './parseHtml';\nvar HtmlToSlate = function (_a) {\n    var plugins = _a.plugins;\n    var deserializeElement = function (el) {\n        var _a;\n        var _b, _c, _d, _e, _f;\n        var nodename = el.nodeName.toUpperCase();\n        if (el.nodeType === 3) {\n            return el.textContent;\n        }\n        else if (el.nodeType !== 1) {\n            return null;\n        }\n        else if (nodename === 'BR') {\n            return '\\n';\n        }\n        var nodeName = el.nodeName;\n        var parent = el;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var children = flatten(Array.from(parent.childNodes).map(deserializeElement));\n        if (nodename === 'BODY') {\n            return jsx('fragment', {}, children);\n        }\n        var matchingPlugin = plugins.find(function (p) {\n            var _a;\n            return (p.pluginType === 'component' &&\n                ((_a = p.deserialize) === null || _a === void 0 ? void 0 : _a.tagName) === nodeName.toLowerCase());\n        });\n        if (matchingPlugin && matchingPlugin.pluginType === 'component') {\n            var elHtml = el;\n            if (!elHtml.style) {\n                // xmldom has no style attribute\n                // we monkey patch it in for easier style parsing\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                elHtml.style = new (require('cssstyle').CSSStyleDeclaration)();\n                elHtml.style.cssText = elHtml.getAttribute('style');\n            }\n            if (matchingPlugin.object === 'mark') {\n                var attrs_1 = (_a = {},\n                    _a[matchingPlugin.type] = (_d = (_c = (_b = matchingPlugin === null || matchingPlugin === void 0 ? void 0 : matchingPlugin.deserialize) === null || _b === void 0 ? void 0 : _b.getData) === null || _c === void 0 ? void 0 : _c.call(_b, elHtml)) !== null && _d !== void 0 ? _d : true,\n                    _a);\n                return children.map(function (child) { return jsx('text', attrs_1, child); });\n            }\n            else {\n                var data = (_f = (_e = matchingPlugin === null || matchingPlugin === void 0 ? void 0 : matchingPlugin.deserialize) === null || _e === void 0 ? void 0 : _e.getData) === null || _f === void 0 ? void 0 : _f.call(_e, elHtml);\n                var attrs = __assign({ type: matchingPlugin.type }, (data ? { data: data } : {}));\n                return jsx('element', attrs, children);\n            }\n        }\n        return children;\n    };\n    return function (htmlString) {\n        var parsed = parseHtml('<body>' + htmlString + '</body>');\n        var fragment = deserializeElement(parsed.documentElement\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        );\n        return {\n            slate: Array.isArray(fragment) ? fragment : [fragment],\n        };\n    };\n};\nexport default HtmlToSlate;\n//# sourceMappingURL=HtmlToSlate.js.map","import { DOMParser } from 'xmldom';\nexport default (function (html) {\n    return new DOMParser().parseFromString(html, 'text/html');\n});\n//# sourceMappingURL=parseHtml.js.map"],"sourceRoot":""}